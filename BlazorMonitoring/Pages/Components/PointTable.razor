@using FM4017Library.Dtos
<h3>PointTable</h3>


<table class="table table-striped">
    <thead>
        <tr>
            <th>Point Id</th>
            <th>Name</th>
            <th>Parent Space Id</th>
            <th>Point Created At</th>
            <th>Point Updated At</th>
            <th>Last signal value</th>
            <th>Unit</th>
            <th>Signal strength</th>
            <th>SNR</th>
            <th>Latitude</th>
            <th>Longitude</th>
            <th>Image Url</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var point in Points)
        {
            <tr>
                <td>@point.Id</td>
                <td>@point.Name</td>
                <td>@point.SpaceId</td>
                <td>@point.CreatedAt</td>
                <td>@point.UpdatedAt</td>
                <td>@point?.Signals?.SignalNodes?.LastOrDefault()?.Data?.RawValue</td>
                <td>@point?.Signals?.SignalNodes?.LastOrDefault()?.Unit </td>
                <td>@point?.Signals?.SignalNodes?.LastOrDefault()?.Metadata?.SignalStrength </td>
                <td>@point?.Signals?.SignalNodes?.LastOrDefault()?.Metadata?.Snr </td>
                <td>@point?.Metadata?.Latitude?.ToString("0.###")</td>
                <td>@point?.Metadata?.Longitude?.ToString("0.###")</td>
                <td>@point?.Metadata?.ImageUrl?</td>

            </tr>
        }
    </tbody>
</table>


@code {
    [Parameter]
    public List<PointNode>? Points { get; set; }
}
